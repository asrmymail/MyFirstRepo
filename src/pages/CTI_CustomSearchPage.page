<apex:page controller="CTI_CustomSearchPageCon" showHeader="false">
<apex:sectionHeader title="Below are No. of Contacts associated with Different Accounts" subtitle="{!ANI }"/>


        <apex:form id="frm">
         
        <apex:pageBlock id="pb">
        <table  border="0" width="100%">

        <tr>
        <td width="20%">
        <!--<c:Typeahead searchBoxId="acctSearchBox" object="Account" primaryField="Name" searchScope="NAME" placeholder="Search for Customer...." minSearchLength="3" destinationForSelectedId="accountId" destinationForSelectedValue="accountName" stealFocus="false" />  
        <input type="hidden" name="accountId" id="accountId" />     
        <input type="hidden" name="accountName" id="accountName" />-->
        </td><td>  
        <!--<apex:commandButton value="Search" action="{!fetchCustomerData}" styleClass="sample-form" >
        <apex:param value="{!accountName}" assignTo="{!CustomerName}" name="accountName" id="accountName"/>
        </apex:commandButton>-->
        
        </td>
        </tr><tr>
        <td width="20%">
        </td>
        <td>
        
        </td>
        </tr>
        <tr>
        <td></td>
        <td > 
            
        <apex:pageBlockTable value="{!customerData}" var="custmer" rendered="true" >
                <br/><br/>
                <apex:column headerValue="Account Name">
                <!--<apex:outputLink value="https://www.salesforce.com" id="theLink">www.salesforce.com</apex:outputLink>-->
                 <apex:outputLink value="/{!custmer.Id}"><b> {!custmer.name}</b> </apex:outputLink>
                 <!--<apex:commandLink value="{!custmer.name}" action="/{!custmer.Id}"/>-->
                 
                <br/> <br/><br/>
                
                <apex:pageBlockTable value="{!custmer.contacts}" var="accRelCons" >
                    <apex:column value="{!accRelCons.name}" headerValue="Contact Name"/>
                    <apex:column value="{!accRelCons.Phone}" headerValue="Phone"/>
                    
                    <apex:column headerValue="Create Call Log (From Contact)">
                    <apex:commandLink value="Create Call Log" action="/apex/CTI_CreateACallLog?contactId={!accRelCons.Id}&Id={!custmer.Id}&ANI={!$CurrentPage.parameters.ANI}&UCID={!$CurrentPage.parameters.UCID}&CallType=Inbound&CallDuration="> 
                    </apex:commandLink>
                   </apex:column>
                </apex:pageBlockTable>
                
                </apex:column><br/><br/>
                
                
        </apex:pageBlockTable> </td>
        </tr>
       
        <!--<button onclick="alert( 'The hidden Id field contains ' + document.getElementById('accountId').value + '\nThe hidden Name field contains ' + document.getElementById('accountName').value );">Submit</button>-->
        
        

        
        </table>
        </apex:pageBlock>

    
    </apex:form> 
</apex:page>